// Cited : https://docs.google.com/spreadsheets/d/1TgHzVPF743cwFp124RMur3qepOWCQrR-C_HR4-3b9uk/edit?usp=sharing
var acadia = {
  lat: 44.35,
  lng: -68.21,
  code: "ACAD",
  name: "Acadia",
};

var americanSamoa = {
  lat: -14.25,
  lng: -170.68,
  code: "AMSA",
  name: "American Samoa",
};

var arches = {
  lat: 38.68,
  lng: -109.57,
  code: "ARCH",
  name: "Arches",
};

var badlands = {
  lat: 43.75,
  lng: -102.5,
  code: "BADL",
  name: "Badlands",
};

var bigBend = {
  lat: 29.25,
  lng: -103.25,
  code: "BIBE",
  name: "Big Bend",
};

var biscayne = {
  lat: 25.65,
  lng: -80.08,
  code: "BISC",
  name: "Biscayne",
};

var gunnison = {
  lat: 38.57,
  lng: -107.72,
  code: "BLCA",
  name: "Black Canyon of the Gunnison",
};

var bryceCanyon = {
  lat: 37.57,
  lng: -112.18,
  code: "BRCA",
  name: "Bryce Canyon",
};

var canyonlands = {
  lat: 38.2,
  lng: -109.93,
  code: "CANY",
  name: "Canyonlands",
};

var capitolReef = {
  lat: 38.2,
  lng: -111.17,
  code: "CARE",
  name: "Capitol Reef",
};

var carlsbadCaverns = {
  lat: 32.17,
  lng: -104.44,
  code: "CAVE",
  name: "Carlsbad Caverns",
};

var channelIslands = {
  lat: 34.01,
  lng: -119.42,
  code: "CHIS",
  name: "Channel Islands",
};

var congaree = {
  lat: 33.78,
  lng: -80.78,
  code: "COSW",
  name: "Congaree Swamp",
};

var craterLake = {
  lat: 42.94,
  lng: -122.1,
  code: "CRLA",
  name: "Crater Lake",
};

var cuyahogaValley = {
  lat: 41.24,
  lng: -81.55,
  code: "CUVA",
  name: "Cuyahoga Valley",
};

var deathValley = {
  lat: 36.24,
  lng: -116.82,
  code: "DEVA",
  name: "Death Valley",
};

var denali = {
  lat: 63.33,
  lng: -150.5,
  code: "DENA",
  name: "Denali",
};

var dryTortugas = {
  lat: 24.63,
  lng: -82.87,
  code: "DRTO",
  name: "Dry Tortugas",
};

var everglades = {
  lat: 25.32,
  lng: -80.93,
  code: "EVER",
  name: "Everglades",
};

var gatesOfArctic = {
  lat: 67.78,
  lng: -153.3,
  code: "GAAR",
  name: "Gates of the Arctic",
};

var gatewayArch = {
  lat: 38.63,
  lng: -90.19,
  code: "NO",
  name: "Gateway Arch",
};

var glacier = {
  lat: 48.8,
  lng: -114,
  code: "GLAC",
  name: "Glacier",
};

var glacierBay = {
  lat: 58.5,
  lng: -137,
  code: "GLBA",
  name: "Glacier Bay",
};

var grandCanyon = {
  lat: 36.06,
  lng: -112.14,
  code: "GRCA",
  name: "Grand Canyon",
};

var grandTeton = {
  lat: 43.73,
  lng: -110.8,
  code: "GRTE",
  name: "Grand Teton",
};

var greatBasin = {
  lat: 38.98,
  lng: -114.3,
  code: "GRBA",
  name: "Great Basin",
};

var greatSandDunes = {
  lat: 37.73,
  lng: -105.51,
  code: "GRSA",
  name: "Great Sand Dunes",
};

var greatSmokyMountains = {
  lat: 35.68,
  lng: -83.53,
  code: "GRSM",
  name: "Great Smoky Mountains",
};

var guadalupeMountains = {
  lat: 31.92,
  lng: -104.87,
  code: "GUMO",
  name: "Guadalupe Mountains",
};

var haleakala = {
  lat: 20.72,
  lng: -156.17,
  code: "HALE",
  name: "Haleakala",
};

var hawaiiVolcanoes = {
  lat: 19.38,
  lng: -155.2,
  code: "HAVO",
  name: "Hawaii Volcanoes",
};

var hotSprings = {
  lat: 34.51,
  lng: -93.05,
  code: "HOSP",
  name: "Hot Springs",
};

var indianaDunes = {
  lat: 41.6533,
  lng: -87.0524,
  code: "INDU",
  name: "Indiana Dunes",
};

var isleRoyale = {
  lat: 48.1,
  lng: -88.55,
  code: "ISRO",
  name: "Isle Royale",
};

var joshuaTree = {
  lat: 33.79,
  lng: -115.9,
  code: "JOTR",
  name: "Joshua Tree",
};

var katmai = {
  lat: 58.5,
  lng: -155,
  code: "KATM",
  name: "Katmai",
};

var kenaiFjords = {
  lat: 59.92,
  lng: -149.65,
  code: "KEFJ",
  name: "Kenai Fjords",
};

var kingsCanyon = {
  lat: 36.8,
  lng: -118.55,
  code: "KICA",
  name: "Kings Canyon",
};

var kobukValley = {
  lat: 67.55,
  lng: -159.28,
  code: "KOVA",
  name: "Kobuk Valley",
};

var lakeClark = {
  lat: 60.97,
  lng: -153.42,
  code: "LACL",
  name: "Lake Clark",
};

var lassenVolcanic = {
  lat: 40.49,
  lng: -121.51,
  code: "LAVO",
  name: "Lassen Volcanic",
};

var mammothCave = {
  lat: 37.18,
  lng: -86.1,
  code: "MACA",
  name: "Mammoth Cave",
};

var mesaVerde = {
  lat: 37.18,
  lng: -108.49,
  code: "MEVE",
  name: "Mesa Verde",
};

var mountRainer = {
  lat: 46.85,
  lng: -121.75,
  code: "MORA",
  name: "Mount Rainier",
};

var northCascades = {
  lat: 48.7,
  lng: -121.2,
  code: "NOCA",
  name: "North Cascades",
};

var olympic = {
  lat: 47.97,
  lng: -123.5,
  code: "OLYM",
  name: "Olympic",
};

var petrifiedForest = {
  lat: 35.07,
  lng: -109.78,
  code: "PEFO",
  name: "Petrified Forest",
};

var pinnacles = {
  lat: 36.48,
  lng: -121.16,
  code: "PINN",
  name: "Pinnacles",
};

var redwood = {
  lat: 41.3,
  lng: -124,
  code: "REDW",
  name: "Redwood",
};

var rockyMountain = {
  lat: 40.4,
  lng: -105.58,
  code: "ROMO",
  name: "Rocky Mountain",
};

var saguaro = {
  lat: 32.25,
  lng: -110.5,
  code: "SAGU",
  name: "Saguaro",
};

var sequoia = {
  lat: 36.43,
  lng: -118.68,
  code: "SEQU",
  name: "Sequoia",
};

var shenandoah = {
  lat: 38.53,
  lng: -78.35,
  code: "SHEN",
  name: "Shenandoah",
};

var theodoreRoosevelt = {
  lat: 46.97,
  lng: -103.45,
  code: "THRO",
  name: "Theodore Roosevelt",
};

var virginIslands = {
  lat: 18.33,
  lng: -64.73,
  code: "VIIS",
  name: "Virgin Islands",
};

var voyageurs = {
  lat: 48.5,
  lng: -92.88,
  code: "VOYA",
  name: "Voyageurs",
};

var whiteSands = {
  lat: 32.78,
  lng: -106.17,
  code: "WHSA",
  name: "White Sands",
};

var windCave = {
  lat: 43.57,
  lng: -103.48,
  code: "WICA",
  name: "Wind Cave",
};

var wrangellStElias = {
  lat: 61,
  lng: -142,
  code: "WRST",
  name: "Wrangell-St. Elias",
};

var yellowstone = {
  lat: 44.6,
  lng: -110.5,
  code: "YELL",
  name: "Yellowstone",
};

var yosemite = {
  lat: 37.83,
  lng: -119.5,
  code: "YOSE",
  name: "Yosemite",
};

var zion = {
  lat: 37.3,
  lng: -113.05,
  code: "ZION",
  name: "Zion",
};

var allParks = [
  acadia,
  americanSamoa,
  arches,
  badlands,
  bigBend,
  biscayne,
  gunnison,
  bryceCanyon,
  canyonlands,
  capitolReef,
  carlsbadCaverns,
  channelIslands,
  congaree,
  craterLake,
  cuyahogaValley,
  deathValley,
  denali,
  dryTortugas,
  everglades,
  gatesOfArctic,
  gatewayArch,
  glacier,
  glacierBay,
  grandCanyon,
  grandTeton,
  greatBasin,
  greatSandDunes,
  greatSmokyMountains,
  guadalupeMountains,
  haleakala,
  hawaiiVolcanoes,
  hotSprings,
  indianaDunes,
  isleRoyale,
  joshuaTree,
  katmai,
  kenaiFjords,
  kingsCanyon,
  kobukValley,
  lakeClark,
  lassenVolcanic,
  mammothCave,
  mesaVerde,
  mountRainer,
  northCascades,
  olympic,
  petrifiedForest,
  pinnacles,
  redwood,
  rockyMountain,
  saguaro,
  sequoia,
  shenandoah,
  theodoreRoosevelt,
  virginIslands,
  voyageurs,
  whiteSands,
  windCave,
  wrangellStElias,
  yellowstone,
  yosemite,
  zion,
];

var allMyFavParks = [];

// var parkImgOne = $("#img-one");
// var parkImgTwo = $("#img-two");
// var parkImgThree = $("#img-three");
var parkImgElement = $("#parkImg");
var parkNameElement = $("#park-name");
var parkInfoElement = $("#park-details");
var parkFee = $("#park-fee");
var parkPage = $("#park-page");
var bgImgElement = $("#bgImg");

var currentParkArray = [];

//HTML ELEMENTS:

var currentPark = {
  name: "",
  code: "",
  img: "",
};

//HTML ELEMENTS:
// Cited : https://developers.google.com/maps/documentation/javascript/tutorial
function initMap() {
  var usa = { lat: 40.045835, lng: -96.428127 };
  var map = new google.maps.Map(document.getElementById("map"), {
    center: usa,
    zoom: 4,
  });
  allParks.forEach(function (park) {
    var marker = new google.maps.Marker({
      position: {
        lat: park.lat,
        lng: park.lng,
      },
      map: map,
      code: park.code,
      title: park.name,
    });

    marker.addListener("click", function (e) {
      console.log(marker.title);
                                                //****MISSING PARKS*****//
                                                //Gateway Arch
      if (marker.title === "Gateway Arch") {
        bgImgElement.attr("src", "Assets/Images/GatewayArch/bckgr.jpg");
        parkInfoElement.text("Gateway Arch National Park, formerly known as the Jefferson National Expansion Memorial until 2018, is an American national park located in St. Louis, Missouri, near the starting point of the Lewis and Clark Expedition. The Gateway Arch and its immediate surroundings were initially designated as a national memorial by executive order on December 21, 1935, and redesignated as a national park in 2018.");
        parkNameElement.text("Gateway Arch");
        parkFee.text("Cost: $3");
        parkPage.attr("href", "https://www.nps.gov/jeff/index.htm");
        parkImgElement.attr("src", "Assets/Images/GatewayArch/01.jpg");

        getMarkerPosition(e.latLng.lat(), e.latLng.lng());
                                                //American Samoa
      } else if (marker.title === "American Samoa") {
        bgImgElement.attr("src", "Assets/Images/AmericanSamoa/bckgr.jpg");
        parkInfoElement.text("The National Park of American Samoa is a national park in the United States territory of American Samoa, distributed across three islands: Tutuila, Ofu, and Ta‘ū. The park preserves and protects coral reefs, tropical rainforests, fruit bats, and the Samoan culture. Popular activities include hiking and snorkeling. Of the park's 13,500 acres (5,500 ha), 9,000 acres (3,600 ha) is land and 4,500 acres (1,800 ha) is coral reefs and ocean.The park is the only American National Park Service system unit south of the equator.");
        parkNameElement.text("American Samoa");
        parkFee.text("Cost: $0");
        parkPage.attr("href", "https://www.nps.gov/npsa/index.htm");
        parkImgElement.attr("src", "Assets/Images/AmericanSamoa/01.jpg");
        getMarkerPosition(e.latLng.lat(), e.latLng.lng());
      } else {
        // Getting Parks Info:
        var key = "yPBjpfToto0wPE3XwW0c4EE6fJfWiaDlziYX82jM";
        var url = `https://developer.nps.gov/api/v1/parks?parkCode=${marker.code}&api_key=${key}`;

        $.ajax({
          url: url,
          method: "GET",
        }).then(function (response) {
          console.log(e);
          var info = response.data[0];
          //change the HTML:
          // parkImgOne.attr("src", info.images[0].url);
          // parkImgTwo.attr("src", info.images[2].url);
          // parkImgThree.attr("src", info.images[3].url);

          // enlarge img on click
          $(document).ready(function () {
            $(".materialboxed").materialbox();
          });
          parkImgElement.attr("src", info.images[0].url);

          parkNameElement.text(info.fullName);
          parkInfoElement.text(info.description);
          parkFee.text("Cost: $" + Math.round(info.entranceFees[0].cost));
          parkPage.attr("href", info.url);
          bgImgElement.attr("src", info.images[1].url);
        });

        // getCoordinates(e);  USE IF YOU NEED ACCESS THE SCRIPT.JS
        getMarkerPosition(e.latLng.lat(), e.latLng.lng());
      }
    });
        parkImgElement.attr("src", info.images[0].url);

        parkNameElement.text(info.fullName);
        parkInfoElement.text(info.description);

        currentPark["name"] = info.fullName;
        currentPark["img"] = info.images[0].url;
        currentPark["info"] = info.description;
      });

      parkFee.text(
        "Cost: $" + Math.round(info.entranceFees[0].cost) //+
        // " ( " + info.entranceFees[0].description + " )"
      );
      parkPage.attr("href", info.url);
      console.log(info.fullName);
      // currentPark.name =
    });

    // Getting birds info:
    // var birdKey = "cgimsp2416fi";
    // var birdUrl = `https://api.ebird.org/v2/data/obs/geo/recent?&api_key=${birdKey}&lat=61&lng=-142`;

    // $.ajax({
    //   url: birdUrl,
    //   method: "GET",
    // }).then(function (response) {
    //   console.log(response);
    //change the HTML:
    // });

    getCoordinates(e);
    getMarkerPosition(e.latLng.lat(), e.latLng.lng());

  });
}

$("#fav-button").on("click", function () {
  alert("clicked fav button");
  //workaround for reference issue
  currentParkArray.push(JSON.parse(JSON.stringify(currentPark)));
  var currentParkArrayJSON = JSON.stringify(currentParkArray);
  localStorage.setItem("currentPark-json", currentParkArrayJSON);
});

//clicked plus button
//push currentPark into an Array of favorites
//setItem favorites to local storage

//get array of objects from local storage
//for each loop of objects to dynamically create cards
// });
